Dare={
    player={name=0,qq=0,num=0,next=0};
    msg={
        addfalse="{name}å·²ç»éª°è¿‡ç‚¹äº† éª°ç‚¹ç»“æœ:{num}";
        addtrue="{name}éª°ç‚¹æˆåŠŸ éª°ç‚¹ç»“æœ:{num}";
        check="ç©å®¶:{name} éª°ç‚¹ç»“æœ:{num}\n";
    };
    func={};
    para={
        Dare={
            {name="1.å–µå¥³ä»†";
            nature="ã€é™æ€ã€‘ã€å£ç™–åç¼€ã€‘ã€1å°æ—¶ã€‘";
            intro="ç§°å‘¼ä»–äººä¸º[xxå¤§äºº]ï¼Œå¥å°¾åŠ [å–µ~] ï¼›cdç»“æŸä¹‹åè¦è‰¾ç‰¹æŸä½ç¾¤å‹è¯´[æœ€å–œæ¬¢ä¸»äººäº†]ï¼Œè¡¨è¾¾è‡ªå·±æ„çŠ¹æœªå°½ä¹‹æ„(? )";};
            {name="2.å¼±å—æ˜¯è¿™æ ·çš„";
            nature="ã€é™æ€ã€‘ã€ç¾¤IDã€‘ã€1å¤©ã€‘";
            intro="ç¾¤IDæ”¹æˆ[æ¸´æœ›è¢«æ€œçˆ±çš„å¼±å—xxxï¼Œè¯·å°½æƒ…xxæˆ‘å§! ] (æˆ–å¤´è¡” [ç¾¤rpqxx] )";};
            {name="3.å‡»å‰‘";
            nature="ã€åŠ¨æ€ã€‘ã€{moudle}æ¬¡ã€‘";
            moudle={{1,2,3,4,5},"1-5"};
            intro="å¯é€‰æ‹©ä¸€ä¸ªäººè¿›è¡Œæ’…æ–—(è¾“.rçœ‹ç‚¹æ•°)ï¼Œè´¥è€…å¿…é¡»æƒ³æ–¹è®¾æ³•å–Šè¶³å¯¹æ–¹{moudle}æ¬¡è€å…¬ï¼ˆå¦‚è€å…¬ï¼Œæˆ‘ç¨€ç½•ä½ ã€æ’…æ’…è€å…¬ç­‰ï¼‰";};
            {name="4.è¡¨ç™½";
            nature="ã€åŠ¨æ€ã€‘ã€30å­—ä»¥ä¸Šã€‘";
            intro="è‡ªé€‰ç»™ç¾¤é‡ŒæŸä¸ªäººè¡¨ç™½";};
            {name="5.è¡Œä¸ºè‰ºæœ¯å®¶";
            nature="ã€åŠ¨æ€ã€‘";
            intro="æè¿°è‡ªå·±èµ›åšæˆ–çº¿ä¸‹è§åˆ°ç¾¤å‹åï¼Œå¯èƒ½å¯¹å…¶åšçš„äº‹ã€å¦‚é˜´æš—åœ°çˆ¬è¡ŒåæŠ±ä½äº†å¤§è…¿ã€å‡»è‚¡ä¹‹äº¤ç­‰ã€‘";};
            {name="6.å¹¸è¿6";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å¹¸è¿6æ¶ˆé™¤ä¸€åˆ‡debuff!";};
            {name="7.æ¶©å›¾";
            nature="ã€åŠ¨æ€ã€‘";
            intro="å‘ç›¸å†Œé‡Œè®¤ä¸ºæœ€æ¶©æ°”æœ€å¥½çœ‹çš„è€å©†ç…§ç‰‡";};
            {name="8.æœ¬å§‘å¨˜å°±æ˜¯ç½—åˆ¹";
            nature="ã€é™æ€ã€‘ã€ç¾¤äººè®¾ã€‘ã€12ç‚¹ç»“æŸã€‘";
            intro="æŒ‡å®šä¸€ä¸ªäººç»™è‡ªå·±ä¸‹è¾¾è§’è‰²æ‰®æ¼”çš„å‘½ä»¤(å¦‚ç¾¤å‹æˆ–è€…äºŒæ¬¡å…ƒè§’è‰²) ";};
            {name="9.ä½ å¥½ï¼Œç»“å©šï¼";
            nature="ã€åŠ¨æ€ã€‘ã€QQç©ºé—´ã€‘";
            intro="QQç©ºé—´å‘[è¿™æ˜¯æˆ‘è€å©†( é™„ç¾¤å‹å›¾ç‰‡) ]ï¼Œå¹¶è‰¾ç‰¹è‡³å°‘ä¸‰ä½ç¾¤å‹ï¼Œå¯ä»¥è®¾ç½®ä»…ç¾¤å‹å¯è§";};
            {name="10.ç²¾ç¥çŠ¶æ€æä½³";
            nature="ã€åŠ¨æ€ã€‘";
            intro="å½“åœºå‘ç™«";};
            {name="11.ä»–/å¥¹æ˜¯è°ï¼Ÿ";
            nature="ã€åŠ¨æ€ã€‘";
            intro="è¯·æè¿°ä¸€ä½ç¾¤å‹ï¼Œ å¹¶åœ¨æè¿°å®Œåè®©å¤§å®¶çŒœä»–/å¥¹çš„èº«ä»½";};
            {name="12.èŠ±ç«çš„ç¤¼ç‰©";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="é‡éª°ä¸€æ¬¡, ç„¶åå°†æ‰€æœ‰debuffè½¬ç§»ç»™ä¸‹ä¸€ä½ç‚¹æ•°æœ€å°çš„ç©å®¶(åŒ…æ‹¬æœ¬è½®)";};
            {name="13.ä¸€ç”Ÿä¸€ä¸–";
            nature="ã€é™æ€ã€‘ã€12ç‚¹ç»“æŸã€‘";
            intro="ä¸ä¸‹ä¸€ä½ç‚¹æ•°13/14çš„ç¾¤cd+æƒ…å¤´ï¼ˆæœ‰åŸé…å¯é‡éª°,åŸé…ä¸ä»‹æ„çš„é™¤å¤–ï¼‰";};
            {name="14.ä¸€ç”Ÿä¸€ä¸–";
            nature="ã€é™æ€ã€‘ã€12ç‚¹ç»“æŸã€‘";
            intro="ä¸ä¸‹ä¸€ä½ç‚¹æ•°13/14çš„ç¾¤cd+æƒ…å¤´ï¼ˆæœ‰åŸé…å¯é‡éª°ï¼ŒåŸé…ä¸ä»‹æ„çš„é™¤å¤–ï¼‰";};
            {name="15.å¸®å¸®å¯è‰å§~";
            nature="ã€åŠ¨æ€ã€‘ã€1æ¬¡/{moudle}å°æ—¶ã€‘ã€12ç‚¹ç»“æŸã€‘";
            moudle={{0.5,1,1.5},"0.5ï¼Œ1æˆ–è€…1.5"};
            intro="è‡ªé€‰ä¸€ä½æ¬§å°¼é…±/å§å§å¤§äºº/ä¸»äººï¼Œå®šæ—¶æ’’å¨‡";};
            {name="16.æ­£ä¸­xpï¼";
            nature="ã€åŠ¨æ€ã€‘";
            intro="æè¿°ä¸‹ä½ çš„xpå¹¶è‰¾ç‰¹ä½ è®¤ä¸ºæœ€ç¬¦åˆä½ xpçš„ç¾¤å‹";};
            {name="17.æˆ‘çœŸå¥½çœ‹";
            nature="ã€åŠ¨æ€ã€‘";
            intro="è¯´å‡ºè‡ªå·±èº«ä¸Šè§‰å¾—æœ€æ¶©æ°”çš„éƒ¨ä½å¹¶è¯´ä¸ºä»€ä¹ˆ";};
            {name="18.ååˆ€";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å…æ­»é‡‘ç‰Œx1 (å¯ä»¥ä½¿ä¹‹åçš„ä¸€æ¬¡æƒ©ç½šæ— æ•ˆ)";};
            {name="19.æ”»å—å¼‚å½¢";
            nature="ã€åŠ¨æ€ã€‘";
            intro="æ ¹æ®ç‚¹æ•°è‰¾ç‰¹æŸä½ç¾¤å‹å‘ç™«æ¥è¡¨è¾¾è‡ªå·±çš„â¤ï¸çˆ±æ„(?) (æ ¹æ®æœ¬è½®éª°ç‚¹,å•æ•°åˆ™ä½ æ˜¯æ”»,å¶æ•°åˆ™ä½ æ˜¯å—)";};
            {name="20.è²è°¢å°”ä¹Ÿè¦è°ˆæ‹çˆ±";
            nature="ã€åŠ¨æ€ã€‘ã€30å­—ä»¥ä¸Šã€‘";
            intro="å’å”±ä¸€å¥ä¸­äºŒå°è¯";};
            {name="21.ä½ ç”»æˆ‘çŒœ";
            nature="ã€åŠ¨æ€ã€‘";
            intro="ç”»å›¾åæŒ‡å®šä¸€äººçŒœï¼ŒçŒœä¸å‡ºæ¥çš„å˜å–µå¥³ä»†";};
            {name="22.è¿˜æ˜¯æƒ…åœºç³•æ‰‹ï¼";
            nature="ã€åŠ¨æ€ã€‘ã€å¯¹{moudle}äººã€‘";
            moudle={{1,2,3},"1-3"};
            intro="é€‰æ‹©{moudle}ä¸ªç¾¤å‹å¹¶è¯•å›¾å¯¹å…¶è¯´æƒ…è¯ä»¤å…¶å¿ƒåŠ¨";};
            {name="23.é›Œå°é¬¼æ˜¯è¦è¢«æ’…çš„ï¼";
            nature="ã€åŠ¨æ€ã€‘ã€{moudle}æ¬¡ã€‘";
            moudle={{1,2,3,4,5},"1-5"};
            intro="é›Œå°é¬¼è¯­æ°”å‘è¨€(å¯å¯¹è¯ç¾¤å‹)";};
            {name="24.çº¯0ç‹‚å–œï¼";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å¯è‡ªé€‰ä¸€ä¸ªç¾¤å‹ï¼Œä¸å…¶äº¤æ¢æ‰€æœ‰debuff";};
            {name="25.å¤§é£æœºå…³";
            nature="ã€åŠ¨æ€ã€‘";
            intro="è®²ä¸€ä¸€ä¸ªå†·ç¬‘è¯";};
            {name="26.ä¸è¦~";
            nature="ã€åŠ¨æ€ã€‘ã€30å­—ä»¥ä¸Šã€‘";
            intro="æè¿°è‡ªå·±è¢«æ’…æ—¶çš„å§¿åŠ¿å’Œå£°éŸ³";};
            {name="27.è¿™å°±æ˜¯æˆ‘å•¦ï¼";
            nature="ã€åŠ¨æ€ã€‘";
            intro="æè¿°æŸä½ç¾¤å‹çš„åˆå°è±¡å’Œç°å°è±¡";};
            {name="28.ç«¥è¨€æ— å¿Œ";
            nature="ã€åŠ¨æ€ã€‘";
            intro="è¯´å‡ºè‡ªå·±æœ€ç¤¾æ­»çš„ä¸€æ¬¡ç»å†";};
            {name="29.å¤§çˆ±ä»™å°Šï¼";
            moudle={{10,20,30,40,50,60},"1-60"};
            nature="ã€é™æ€ã€‘ã€å£ç™–åç¼€ã€‘ã€{moudle}åˆ†é’Ÿã€‘";
            intro="è¯´è¯åŠ [â¤ï¸] ";};
            {name="30.æ‹¿æ¥å§ä½ ï¼";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å¯è‡ªé€‰è·å¾—ä»»æ„ä¸€æ¡buff";};
            {name="31.æ— è¨€";
            moudle={{10,20,30},"1-30"};
            nature="ã€é™æ€ã€‘ã€å£ç™–ã€‘ã€{moudle}åˆ†é’Ÿã€‘";
            intro="ç”¨æ ‡ç‚¹ç¬¦å·ä»£è¡¨æ¥ä¸‹æ¥åœ¨è¿™ä¸€æ®µæ—¶é—´çš„æ¯ä¸€å¥è¯";};
            {name="32.å‚²å¨‡å·²ç»é€€ç¯å¢ƒæƒ¹ï¼";
            nature="ã€é™æ€ã€‘ã€å£ç™–å‰ç¼€ã€‘ã€1å°æ—¶ã€‘";
            intro="æˆ‘æ‰ä¸æ˜¯xxxæ ¼å¼å‘è¨€";};
            {name="33.æˆ‘æ˜¯è°ï¼Ÿ";
            nature="ã€é™æ€ã€‘ã€ç¾¤IDã€‘";
            intro="é€‰æ‹©ä¸€äººç»™è‡ªå·±æŒ‡å®šå¤–å·ï¼ˆéœ€æ”¹ç¾¤IDï¼‰";};
            {name="34.å è¯è¯ï¼Œæ¶å¿ƒå¿ƒ~";
            nature="ã€é™æ€ã€‘ã€.rd30åˆ†é’Ÿã€‘";
            intro="ç”¨ABBæ ¼å¼ç®€çŸ­å‘è¨€";};
            {name="35.å¯çˆ±æ";
            moudle={{10,20,30,40,50,60},"1-60"};
            nature="ã€é™æ€ã€‘ã€å£ç™–åç¼€ã€‘ã€{moudle}åˆ†é’Ÿã€‘";
            intro="å¥å°¾+è¯­æ°”è¯~ (å¦‚å•Š~/å˜¶~/å—¯~/å‘œ~) ";};
            {name="36.æ½˜å¤šæ‹‰é­”ç›’";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å¯ä»¤æ‰€æœ‰å‚ä¸æœ¬è½®çš„ç©å®¶æŒ‡å®šè·å¾—ä¸€æ¡é™æ€buffï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰";};
            {name="37.å¥½ä¸å¥½å˜›~";
            moudle={{1,2,3,4,5},"1-5"};
            nature="ã€åŠ¨æ€ã€‘ã€{moudle}æ¬¡ã€‘";
            intro="å‘æœ¬å›åˆæ¥å—æƒ©ç½šçš„å…¶ä»–äººæ’’å¨‡";};
            {name="38.å“’å’©ï¼";
            nature="ã€åŠ¨æ€ã€‘";
            intro="æ‰®æ¼”å¥³ä»†å‘è¡¨æ¶©æ¶©è¨€è®º(è¢«æ’…çŠ¶æ€ing )\n(å¦‚ä¸»äºº~é‚£é‡Œä¸â€”â€”å•Š~ )";};
            {name="39.å†æ¥ä¸€æ¬¡";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å†æ‰§è¡Œä¸€æ¬¡æœ€è¿‘çš„æƒ©ç½š";};
            {name="40.æ±‚ä½ äº†ï¼Œæ¥æµ‹å§ï¼";
            nature="ã€åŠ¨æ€ã€‘ã€20å­—ã€‘";
            intro="æƒ³è±¡è‡ªå·±è¢«æ’…çš„æƒ…æ™¯";};
            {name="41.æˆ‘çš„ä¸Šå¸å•Šï¼";
            moudle={{1,2,3,4,5},"1-5"};
            nature="ã€åŠ¨æ€ã€‘ã€{moudle}å¥ã€‘";
            intro="ç”¨ç¿»è¯‘è…”è¯´è¯";};
            {name="42.å¤šå¤§ä»‡å•Šï¼Ÿ";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å¯ä¸æŸä½ç¾¤å‹ä¸€èµ·è‡ªé€‰æ‰§è¡Œä¸€æ¡debuff";};
            {name="43.æˆ‘åŠä½ å–„è‰¯ï¼Œåˆ«å¤ªé‡å£";
            nature="ã€åŠ¨æ€ã€‘";
            intro="è¯´å‡ºè‡ªå·±çœ‹è¿‡å°è±¡æœ€æ·±çš„æœ¬å­";};
            {name="44.ç¦å¿Œå§¿åŠ¿";
            nature="ã€åŠ¨æ€ã€‘";
            intro="è¯´å‡ºè‡ªå·±æœ€å–œæ¬¢çš„ğŸ§€ï¼ˆä½“ä½ï¼‰";};
            {name="45.yydsï¼";
            nature="ã€åŠ¨æ€ã€‘";
            intro="ä»å…­å¤§ä½“å‹ä¸­é€‰å‡ºä¸€ç§æè¿°å¹¶å‘ç™«ï¼ˆèè‰/æ­£å¤ª/å°‘å¥³/å°‘å¹´/æˆå¥³/æˆç”·/å—æ¢ï¼‰\nï¼ˆå¦‚èè‰æœ‰ä¸‰å¥½ï¼Œèº«å¨‡ä½“æŸ”æ˜“æ¨å€’ï¼Œè¿˜æœ‰ç‰¢é¥­åƒï¼‰";};
            {name="46.çº¯0æ˜¯è¿™æ ·çš„";
            nature="ã€åŠ¨æ€ã€‘ã€QQç©ºé—´ã€‘";
            intro="QQç©ºé—´å‘è¯´è¯´â€œå…¨ä½“ç›®å…‰å‘æˆ‘çœ‹é½ï¼Œæˆ‘æ˜¯ä¸ªçº¯0ï¼â€ï¼ˆå¹¶è‰¾ç‰¹è‡³å°‘ä¸‰ä½ç¾¤å‹ï¼Œå¯è®¾ç½®ä»…ç¾¤å‹å¯è§ï¼‰";};
            {name="47.ç¤¾ä¼šæ€§æ­»äº¡";
            nature="ã€åŠ¨æ€ã€‘ã€QQç©ºé—´ã€‘";
            intro="QQç©ºé—´å‘æœ€è¿‘ä¸€æ¬¡çš„å¤§å†’é™©è¯­å½•ï¼ˆæ²¡æœ‰å°±æ¬è¿å…¶ä»–äººæœ€è¿‘çš„ï¼‰ï¼ˆå¹¶è‰¾ç‰¹è‡³å°‘ä¸‰ä½ç¾¤å‹ï¼Œå¯è®¾ç½®ä»…ç¾¤å‹å¯è§ï¼‰";};
            {name="48.æ‹¿å»ç©å§";
            nature="ã€ç‰¹æ®Šã€‘";
            intro="å¯è‡ªé€‰ä¸€æ¡debuffï¼Œèµ äºˆä¸‹å›åˆç‚¹æ•°æœ€ä½çš„äºº";};
            {name="49.ç¾æ¢¦ä¹‹ç¥çš„åº‡ä½‘";
            nature="ã€åŠ¨æ€ã€‘";
            intro="æè¿°è‡ªå·±æœ€æ¿€åŠ¨çš„æ˜¥æ¢¦/yyï¼ˆæ½‡æ¥šå—ï¼ŒæœªæŸ³ç¨»å…³ï¼Œæ¹˜é¦™é‡Œï¼Œæµ·å¬çƒ½ç¬¦ï¼‰";};
            {name="50.ä»–/å¥¹ä¸€ç›´å¾ˆç‘Ÿç´çš„";
            nature="ã€åŠ¨æ€ã€‘";
            intro="é€‰æ‹©ä¸€ä½ç¾¤å‹ï¼Œå¹¶è¯´å‡ºè‡ªå·±æƒ³è±¡ä¸­çš„ä»–/å¥¹å½¢è±¡å¦‚ä½•ï¼ˆç±»ä¼¼è‡ªè®¾ï¼Œå¯æ€§è½¬ï¼‰ï¼Œè¯·ç€é‡æå†™æ¶©æ°”ï¼ˆå¦‚å‘å‹å¦‚ä½•å¥½ï¼Œè…¿å¦‚ä½•å¥½ç­‰ï¼‰";};
        };
    static={1,2,8,13,12,29,31,32,33,34,35};
    dynamic={3,4,5,7,9,10,11,15,16,17,19,20,21,22,23,25,26,27,28,37,38,40,41,43,44,45,46,47,49,50};
    specicl={6,12,18,24,30,36,39,42,48};
    };
}

function Dare.func.Tfile(group)--æ–‡ä»¶è·¯å¾„
    local file="Dare/"..group
    return file
end
--Dare.func.
function Dare.func.atmsg(moudle)--@æŸäºº
    local message="#{AT-"..moudle.qq.."}"
    return message
end

function Dare.func.addin(msg)--åŠ å…¥
    local file=Dare.func.Tfile(msg.fromGroup)
    local player=dream.api.getUserConf("ç©å®¶",msg.fromQQ,file)
    if dream.api.getUserConf("æ—¶é—´","Dare",file)==nil then
        dream.api.setUserConf("æ—¶é—´",os.time(),"Dare",file)
    end
    if dream.api.getUserConf("æ—¶é—´",msg.fromQQ,file)==dream.api.getUserConf("æ—¶é—´","Dare",file) then
        return Dare.msg.addfalse:gsub("{name}",player.name):gsub("{num}",player.num)
    else
        local player=table.clone(Dare.player)
        player.qq=msg.fromQQ
        player.name=msg.fromGroupNick
        player.num=sdk.randomInt(1,100)
        player.next=(dream.api.getUserConf("é¡¶æŒ‡é’ˆ","Dare",file) or 0)
        dream.api.setUserConf("ç©å®¶",player,msg.fromQQ,file)
        dream.api.setUserConf("æ—¶é—´",dream.api.getUserConf("æ—¶é—´","Dare",file),msg.fromQQ,file)
        dream.api.setUserConf("é¡¶æŒ‡é’ˆ",msg.fromQQ,"Dare",file)
        return Dare.msg.addtrue:gsub("{name}",player.name):gsub("{num}",player.num)
    end
end
dream.keyword.set("Dare","å¤§å†’é™©åŠ å…¥",Dare.func.addin)

function Dare.func.checkout(msg)--æŸ¥çœ‹
    local file=Dare.func.Tfile(msg.fromGroup)
    local p=dream.api.getUserConf("é¡¶æŒ‡é’ˆ","Dare",file)
    local message=""
    while p~=0 do
        p=tostring(p)
        local player=dream.api.getUserConf("ç©å®¶",p,file)
        local check=Dare.msg.check:gsub("{name}",player.name):gsub("{num}",player.num)
        message=message..check
        p=player.next
    end
    return message
end
dream.keyword.set("Dare","å¤§å†’é™©æŸ¥çœ‹",Dare.func.checkout)

function Dare.func.Daremsg(nature,intro)--å¤§å†’é™©è¯­å¥1
    local Dare=table.clone(Dare.para.Dare[sdk.randomInt(1,#Dare.para.Dare)])
    local moudle
    if Dare.moudle~=nil then
        moudle=Dare.moudle[1][sdk.randomInt(1,#Dare.moudle)]
        Dare.nature=Dare.nature:gsub("{moudle}",moudle)
        Dare.intro=Dare.intro:gsub("{moudle}",moudle)
    end
    local message=Dare.name
    if nature==1 then
        message=message.."\n"..Dare.nature
    end
    if intro==1 then
        message=message.."\n"..Dare.intro
    end
    return message
end

function Dare.func.Daremessage(mod,nature,intro)--å¤§å†’é™©è¯­å¥æŒ‡å®šæ¨¡å¼
    local num
    if mod==1 then
        num=sdk.randomInt(1,#Dare.Dare.static)
    elseif mod==2 then
        num=sdk.randomInt(1,#Dare.Dare.dynamic)
    elseif mod==3 then
        num=sdk.randomInt(1,#Dare.Dare.special)
    end
    local Dare=table.clone(Dare.para.Dare[num])
    local moudle
    if Dare.moudle~=nil then
        moudle=Dare.moudle[1][sdk.randomInt(1,#Dare.moudle)]
        Dare.nature=Dare.nature:gsub("{moudle}",moudle)
        Dare.intro=Dare.intro:gsub("{moudle}",moudle)
    end
    local message=Dare.name
    if nature==1 then
        message=message.."\n"..Dare.nature
    end
    if intro==1 then
        message=message.."\n"..Dare.intro
    end
    return message
end

function Dare.func.Daremsg1(moudle)--å¤§å†’é™©è¯­å¥2
    local msg=Dare.func.Daremsg(1,1)
    local message="#{MULT} "..Dare.func.atmsg(moudle).." æ•°å€¼ï¼š"..moudle.num.."\n"..msg
    return message
end

function Dare.func.checknum(file)--æ¯”è¾ƒæœ€å¤§æœ€å°
    local p=dream.api.getUserConf("é¡¶æŒ‡é’ˆ","Dare",file)
    local min=nil
    local max=nil
    while p~=0 do
        p=tostring(p)
        local player=dream.api.getUserConf("ç©å®¶",p,file)
        if min==nil then min=player end
        if max==nil then max=player end
        if min.num>player.num then  min=player end
        if max.num<player.num then  max=player end
        p=player.next
    end
    return min,max
end

function Dare.func.restartD(msg)--å¤§å†’é™©é‡ç½®
    local file=Dare.func.Tfile(msg.fromGroup)
    local message="é‡ç½®æˆåŠŸ\n"
    if dream.api.getUserConf("é¡¶æŒ‡é’ˆ","Dare",file)~=0 then
        message=message..Dare.func.checkout(msg)
        local min,max=Dare.func.checknum(file)
        local message1=Dare.func.Daremsg1(min)..Dare.func.Daremsg1(max)
        message=message..message1
        dream.api.setUserConf("æ—¶é—´",os.time(),"Dare",file)
        dream.api.setUserConf("é¡¶æŒ‡é’ˆ",0,"Dare",file)
    end
    return message
end
dream.keyword.set("Dare","å¤§å†’é™©é‡ç½®",Dare.func.restartD)

function Dare.func.DareRandom(msg)
    local dare=Dare.func.Daremsg(1,1)
    return msg.fromNick.."æŠ½åˆ°äº†:\n"..dare
 end
 dream.keyword.set("Dare","éšæœºå¤§å†’é™©",Dare.func.DareRandom)
 
 function Dare.func.Darecheck(num)
     local dare=table.clone(Dare.para.Dare[num])
     local moudle
     if dare.moudle~=nil then
         moudle=dare.moudle[2]
         dare.nature=dare.nature:gsub("{moudle}",moudle)
         dare.intro=dare.intro:gsub("{moudle}",moudle)
     end
     local msg=dare.name.."\n"..dare.nature.."\n"..dare.intro
     return msg
 end
 
 function Dare.func.Darecheck1(msg)
     local num=dream.tonumber(msg.fromMsg:match("%d+"))
     if num==nil or num<1 or num>#Dare.para.Dare then
         return "è¾“å…¥æ•°å€¼å‚æ•°ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥"
     else
         return Dare.func.Darecheck(num)
     end
     
 end
 dream.keyword.set("Dare","æŸ¥çœ‹å¤§å†’é™©",Dare.func.Darecheck1)
 
 function Dare.func.listDare(msg)
    local message="#{SPLIT}"
    for i=1,#Dare.para.Dare do
        message=message..Dare.func.Darecheck(i).."#{SPLIT}"
    end
    return message
end
dream.keyword.set("Dare","å¤§å†’é™©åˆ—è¡¨",Dare.func.listDare)

return {
    id = "Dare",
    version = "2.0.0",
    help = "--å¤§å†’é™©--\nå¤§å†’é™©åŠ å…¥\nå¤§å†’é™©æŸ¥çœ‹\nå¤§å†’é™©é‡ç½®--æŸ¥çœ‹ç»“æœ\néšæœºå¤§å†’é™©\næŸ¥çœ‹å¤§å†’é™© [æ•°å€¼]--æŸ¥è¯¢å¯¹åº”å¤§å†’é™©æƒ©ç½š\nå¤§å†’é™©åˆ—è¡¨--è¿”å›æ‰€æœ‰å¤§å†’é™©æƒ©ç½š",
    author = "é›¨å²šä¹‹å¿†",
    
    mode = true
  }